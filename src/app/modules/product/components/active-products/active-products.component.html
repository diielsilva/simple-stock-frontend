<div class="m-3">
    <p-panel header="Produtos Ativos" [draggable]="false">
        <p-table [value]="products" [lazy]="true" [paginator]="true" [rows]="20" styleClass="p-datatable-striped"
            [loading]="loadingService.getIsLoading()" (onPage)="handlePageChange($event)"
            [totalRecords]="totalOfProducts">
            <ng-template pTemplate="header">
                <tr>
                    <th class="bg-primary">Nome</th>
                    <th class="bg-primary">Pre√ßo</th>
                    <th class="bg-primary">Quantidade</th>
                    <th class="bg-primary">Editar</th>
                    <th class="bg-primary">Remover</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-product>
                <tr>
                    <td class="border-none">{{ product.name }}</td>
                    <td class="border-none">R${{ product.price.toFixed(2) }}</td>
                    <td class="border-none">{{ product.amount }}</td>
                    <td class="border-none"><a class="text-decoration-none" routerLink="update/{{product.id}}"><button
                                pButton icon="pi pi-pencil" class="p-button-text text-yellow-500"></button></a></td>
                    <td class="border-none"><button pButton icon="pi pi-trash" class="p-button-text text-red-500"
                            (click)="deleteProduct(product.id)"></button></td>
                </tr>
            </ng-template>
        </p-table>
    </p-panel>
</div>
<p-toast position="top-center" (onClose)="closeMessage()" styleClass="p-3 opacity-100">
    <ng-template let-message pTemplate="message">
        <div class="flex flex-column p-3" style="flex: 1;">
            <h4>{{ message.summary }}</h4>
            <p class="mt-3">{{ message.detail }}</p>
        </div>
    </ng-template>
</p-toast>